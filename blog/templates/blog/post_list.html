{% load static %}
<html lang="ru">

<head>
    <title>Список статей - CourseMC</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body style='min-height: 100%;'>
<link rel="stylesheet" href="{% static 'css/post_list.css' %}">
{% include 'blog/includes/header.html' %}

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <!-- Bootstrap Bundle JS (jsDelivr CDN) -->
  <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>


<div class="container" style='margin-top: 100px;'>
    {% for post in posts %}
        <div class="card">
            <div class="card__header cursor-pointer" onclick="document.location=`{% url 'post_view' post.pk %}`">
                <img src="{{ post.image.url }}"
                     alt="Фото статьи" class="card__image"
                     width="600">
            </div>
            <div class="card__body" style="cursor: pointer;">

                    <span class="tag">
                        {% for category in post.categories.all %}
                            <span style="background-color: {{ category.color }}; padding: 5px; border-radius: 15%;"><small><strong>{{ category.title }}</strong></small></span>
                        {% endfor %}
                    </span>
                <label onclick="document.location=`{% url 'post_view' post.pk %}`" style="cursor: pointer;">
                    <h4>{{ post.title }} {% if not post.is_displayed %} <small><i>(<u>На рассмотрении</u>)</i></small>{% endif %}</h4>
                    <p>{{ post.description }}</p>
                </label>
            </div>
            <div class="card__footer">
                <div class="user">
                    <div class="user__info">
                        <h5>{{ post.author }}</h5>
                        <small>{{ post.created_at }}</small>
                    </div>
                </div>
            </div>
        </div>
    {% endfor %}
</div>

</body>
</html>